
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Forty two</title>
  <meta name="author" content="Sudharshan S">

  
  <meta name="description" content="After a little chat with mickeyl, I realised that exposing crucial functions like load() and unload() was not that of a good idea considering how &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sudharsh.github.io/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Forty two" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Forty two</a></h1>
  
    <h2>Code, and a tiny bit of Adventure</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sudharsh.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
g  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/05/battery-plugin-and-more/">Battery Plugin and More..</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-05T18:09:23+05:30" pubdate data-updated="true">Jun 5<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After a little chat with <a href="http://www.vanille-media.de/site/index.php/blog/">mickeyl</a>, I realised that exposing crucial functions like load() and unload() was not that of a good idea considering how <a href="http://git.freesmartphone.org/?p=openmoko-gsoc2008.git;a=summary">odeviced</a> is supposed to closely interact with the underlying devices. Consequently there has been some changes over the last week,</p>

<ul>
<li><p>No DBus interface for the service.</p></li>
<li><p>Plugins have now access to a set of helper functions. Only two at the moment (Think setting up DBus object paths)</p></li>
<li><p>Plugins once loaded become resident, that is they cannot be unloaded. If plugins are to be disabled during startup, just remove them from the &ldquo;enable&rdquo; field in the global configuration file.</p></li>
<li><p>Per plugin configuration. Each plugins now have their own configuration. Makes more sense, since this mean plugins can have greater freedom with their settings. I really like how the newly checked in <a href="http://git.freesmartphone.org/?p=openmoko-gsoc2008.git;a=tree;f=odeviced/plugins/backlight;h=cf890037a9a39f4a801ea9e5984c40af8440fa03;hb=e21a88cf6a35d9ef43a3d0836be26bdae733d670">battery plugin</a> exploits this.</p></li>
<li><p>Freshly checked in battery plugin. Makes use of sysfs for its functions viz. get_current_brightness, set_brightness, get_maximum_brightness.</p></li>
</ul>


<p><a href="http://en.wikipedia.org/wiki/Sysfs">SysFS</a> (/sys in 2.6.x.x) is sort of similar to the /proc filesystem and acts as an interface for user-space applications to control/access various devices. One of the neat things about sysfs is the fact that all files consist of only a <strong>single</strong> entry. This means I don&rsquo;t have to write a separate parser to extract data from them. So a simple fprintf or fscanf or even the seemingly mundane &ldquo;echo&rdquo; can be used to control the devices.</p>

<p>I am also planning to work on the python shell for odeviced for a while. This will be really convenient for testing the service. Something like this,</p>

<p><code>&gt; Wifi is_on wlan0
True
</code></p>

<p>The code can be checked out from <a href="http://git.freesmartphone.org/?p=openmoko-gsoc2008.git;a=summary">here</a>. I can&rsquo;t wait till I get hold of a FreeRunner to test odeviced out. :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/02/the-code-is-in/">The Code Is In&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-02T21:01:46+05:30" pubdate data-updated="true">Jun 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yay. Got the repository for odeviced set up at <a href="http://git.freesmartphone.org/?p=openmoko-gsoc2008.git;a=summary">http://git.freesmartphone.org</a></p>

<p>Boy, do I love <a href="http://git.or.cz/">git</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/02/what-motivates-you-motivation/">&#8220;What Motivates You? Motivation&#8221;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-02T01:09:41+05:30" pubdate data-updated="true">Jun 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I will be entering final year in a couple of months and this means&hellip;PLACEMENTS!!! yay! (..or the lack of it)</p>

<p>This means more &ldquo;Mock Interviews Sessions&rdquo; and &ldquo;GDs&rdquo; to &ldquo;empower&rdquo; engineering students to get placed in the only 3 software companies that exist in this physical Universe. Infosys, TCS and CTS (Apparently our college is too dumb for <em>hybrid </em>corporates like m$).</p>

<p>And this <a href="http://pravunplugged.blogspot.com/2005/03/mock-interview.html">blog post</a> sort of sums up my thoughts. Highly hilarious, rolled on the floor injuring my <em>mutti.</em></p>

<p>Especially at this,</p>

<p><em>&ldquo;Any actual work experience?
Buying groceries for my neighbour who has this pretty daughter called Gayathri.&rdquo;</em></p>

<p>Oh, yeah! I can empathize.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/29/first-frigging-milestone/">First Frigging Milestone..</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-29T23:28:56+05:30" pubdate data-updated="true">May 29<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Why Milestone? Nope, I didn&rsquo;t come up with fancy code or a &ldquo;beautiful&rdquo; one for that matter (Came up with a way to unload plugins). Milestone, because today was the first day I was squeezing up my half empty head to work around a teency weency problem. In short, I am happy I was actually <strong>thinking</strong> today about squishing a segmentation fault which was bringing the whole house down due to dbus and the kinky wifi plugin.</p>

<p>Now a word of warning. The wifi plugin is a circus freak of sorts. Being the lazy bum I am, I found it a drag to manually get into the trouble of coming up with xml introspection data for the &ldquo;org.freesmartphone.Device.plugins.wifi&rdquo; interface.</p>

<p>Instead I just came up with a grand plan of letting <em>valac</em> generate wifi.c and wifi.h, which I could modify later. Piece of cake? Sure&hellip;</p>

<p>After the wifi plugin is loaded it works pretty well. The keyword being &ldquo;After&rdquo;&hellip;By the way, check the <a href="http://projects.linuxtogo.org/pipermail/smartphones-standards/2008-May/000078.html">progress report</a> which I sent to the <a href="http://projects.linuxtogo.org/pipermail/smartphones-standards/">smartphone-standards</a> list. That should give you an idea of how odeviced works and looks like. In fact, it works pretty satisfactorily discounting the segmentation faults :D, which is <strong>easily </strong>reproducible in the following ways,</p>

<ul>
<li><p>Don&rsquo;t load the wifi plugin on startup, set enable=0 in odeviced.conf. Instead load it manually after odeviced starts up and begins to idle.</p></li>
<li><p>If the wifi plugin is already loaded, unload it and then try to load it again.</p></li>
</ul>


<p>Part of this problem might be my arrogance of not to use GTypeModules for dynamically typing the plugins. I need to discuss with my mentor, mickeyl about this once he gets back to business after <a href="http://www.linuxtag.org/2008/en/">LinuxTag</a>.</p>

<p>The barely bare bones powercontrol plugin loads and unloads without any problems, but it doesn&rsquo;t do anything as remotely useful as the wifi plugin!! Just contains an init function that has a printf in it (bleh!, thank goodness it didn&rsquo;t bail out).</p>

<p>Oh and the all important <a href="http://sudharsh.unixpod.com/odeviced-20080529.tar.bz2">tarball</a> is here. Highly effective than laughing gas!</p>

<p>&hellip;Another gdb session beckons</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/22/odeviced-progress-report-p/">Odeviced: Progress Report :P</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-22T16:48:53+05:30" pubdate data-updated="true">May 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, presenting a preliminary skeleton service for odeviced that loads shared object libraries (or in other words plugins). Nothing to be proud of, but hey, something is better than nothing.</p>

<p>Here&rsquo;s a screenshot of a very very preliminary odeviced in action..</p>

<p><a href="http://sudharsh.unixpod.com/Screenshot.png"><img src="http://sudharsh.unixpod.com/Screenshot.png" alt="odeviced" /></a></p>

<p>Basically its just a dbus service that can load modules from a predefined location. Here&rsquo;s how it works currently,</p>

<ul>
<li><p>Setup all the boring stuff like registering the object path and getting the connection to the DBus system bus. The interface used will be &ldquo;org.freesmartphone.Device&rdquo;.</p></li>
<li><p>The service reads the configuration file at /etc/odeviced.conf whose contents are as follows,`</p>

<h1>General configurations</h1>

<p>[odeviced]
device_name=FreeRunner<code>
</code>[powercontrol]
enable=1`</p></li>
<li><p>So from the above configuration, the device name is set to FreeRunner and odeviced tries to load the powercontrol plugin since &ldquo;enable&rdquo; is set to 1. Of course, the dbus service exposes the load method to load plugins manually after the service has started if the need arises.</p></li>
<li><p>The default directory for plugins is at &lsquo;/usr/share/odeviced/plugins&rsquo;. Maybe additional directories for other plugins can be set in odeviced.conf. By now odeviced tries to load the plugin libpowercontrol.so under &lsquo;/usr/share/odeviced/plugins&rsquo;.</p></li>
<li><p>After successful loading of the plugin, odeviced executes the init function in the plugin which is of the form &lt;plugin_name>_init. In our case it is powercontrol_init. The dbus paths for the plugins are to be set here. So we would have object paths such as &ldquo;/org/freesmartphone/Device/plugins/powercontrol&#8217;. This is yet to be done.</p></li>
<li><p>As evident in the above screenshot the powercontrol_init contains a single printf statement which merely spits out &ldquo;In powercontrol&rdquo;. And yes, the powercontrol plugin is written in good ol&#8217; C.</p></li>
</ul>


<p>Notice the gnome-terminal at the right. It is running a simple python helper script for testing odeviced. It simply reads from stdin and calls the `load&#8217; method offered by the dbus service with the input as the argument. As you can see, powercontrol has been loaded successfully but &ldquo;l&rdquo; and &ldquo;this_aint_a_plugin&rdquo; gives a critical warning that these plugins couldn&rsquo;t be found.</p>

<p><em>What needs to be done</em></p>

<ul>
<li><p>Make the code &ldquo;beautiful&rdquo;. :D. I am constantly on the lookout for vala&#8217;ish ways of doing things. Still need to work on my OOP skills :/.</p></li>
<li><p>Come up with a decent plugin for powercontrol.</p></li>
<li><p>Put in some example apps or port the existing OM ones to use odeviced.</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/18/fun-with-vala-and-dbus/">Fun With Vala and DBus</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-18T21:02:04+05:30" pubdate data-updated="true">May 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After the lousy semester exams, I decided put in some time to learn <a href="http://live.gnome.org/Vala">vala</a> and <a href="http://freedesktop.org/wiki/Software/dbus">dbus</a> to cheer me up. For the unitiated,</p>

<ul>
<li><p>&lsquo;<em>Vala is a new programming language that aims to bring modern programming language features to GNOME developers without imposing any additional runtime requirements and without using a different ABI compared to applications and libraries written in C.</em>&rsquo;</p></li>
<li><p>DBus is a low latency IPC system with less overhead with emphasis on desktop applications</p></li>
</ul>


<p>I must say the folks at #vala in GimpNet has been patient with me, especially considering the silly questions I had been asking for the last couple of days. I should get commit access to the git repositories of freesmartphone.org in a short while as well :D.</p>

<p>I learned a couple of things on the way. Especially the KeyFile API from the <a href="http://library.gnome.org/devel/glib/">GLib</a> library really rocked. Note that odeviced would have configuration file sitting in &lsquo;/etc&rsquo; containing various settings like plugins to be loaded, their own internal switches and so on. I would have almost &ldquo;reinvented the wheel&rdquo; trying to reimplement stuff thats already provided by GLib if I hadn&rsquo;t browsed through the API reference of GLib. Implementing something like the above for odeviced in vala looks something like this,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='vala'><span class='line'><span class="p">....</span>
</span><span class='line'><span class="kd">private</span> <span class="n">GLib</span><span class="p">.</span><span class="n">KeyFile</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GLib</span><span class="p">.</span><span class="n">KeyFile</span><span class="p">();</span>
</span><span class='line'><span class="kd">private</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">plugins</span><span class="p">;</span>
</span><span class='line'><span class="kd">private</span> <span class="kt">string</span> <span class="n">dev_name</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">string</span><span class="p">();</span>
</span><span class='line'><span class="p">......</span>
</span><span class='line'><span class="cm">/* vala will warn you if you dont put this under a try, catch block */</span>
</span><span class='line'><span class="n">file</span><span class="p">.</span><span class="n">load_from_file</span><span class="p">(</span><span class="s">&quot;/etc/odeviced.conf&quot;</span><span class="p">,</span> <span class="n">GLib</span><span class="p">.</span><span class="n">KeyFileFlags</span><span class="p">.</span><span class="n">NONE</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="n">file</span><span class="p">.</span><span class="n">has_group</span><span class="p">(</span><span class="s">&quot;odeviced&quot;</span><span class="p">))</span>
</span><span class='line'><span class="k">this</span><span class="p">.</span><span class="n">dev_name</span> <span class="o">=</span> <span class="n">file</span><span class="p">.</span><span class="n">get_string</span><span class="p">(</span><span class="s">&quot;odeviced&quot;</span><span class="p">,</span> <span class="s">&quot;device_name&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">plugins</span> <span class="o">=</span> <span class="n">file</span><span class="p">.</span><span class="n">get_groups</span><span class="p">();</span>
</span><span class='line'><span class="n">_load</span><span class="p">(</span><span class="n">plugins</span><span class="p">);</span>
</span><span class='line'><span class="p">....</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, the corresponding configuration file will look something like this,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ini'><span class='line'><span class="k">[odeviced]</span>
</span><span class='line'><span class="na">device_name</span><span class="o">=</span><span class="s">FreeRunner</span>
</span><span class='line'>
</span><span class='line'><span class="k">[powercontrol]</span>
</span><span class='line'><span class="na">enable</span><span class="o">=</span><span class="s">1</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the above example, things within &lsquo;[&rsquo; and &lsquo;]&rsquo; are group names and each of these groups consist of a key-value pair.</p>

<p>As for the dbus part, each plugin would set up dbus objects on their own. GModule library will be used to load the <em>.so</em> libraries. So we&rsquo;d have object paths like <code>/org/freesmartphone/Device/powercontroller</code>. And of course, odeviced will be on the System Bus.</p>

<p>On a related note, the &ldquo;surprise&rdquo; gift is on its way :D.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/30/a-debacle-of-an-exam/">A Debacle of an Exam&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-30T22:04:53+05:30" pubdate data-updated="true">Apr 30<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the Life&rsquo;s greatest ironies. I actually enjoyed studying for the Artificial Intelligence exam, one of my favourite areas. In fact an hour of my favorite anime, <a href="http://en.wikipedia.org/wiki/Ghost_in_the_shell">Ghost in the Shell: SAC</a> on monday was timed perfectly for the exam the next day.</p>

<p>But when I received the question paper, I sat there wide eyed just like the android who gets pwned by the <a href="http://en.wikipedia.org/wiki/Tachikomas">Tachikomas</a> when they attack her with the <a href="http://en.wikipedia.org/wiki/Liar_paradox">Liar Paradox</a>. A big BLEH..</p>

<p>I managed to write (in my own words and crappy handwriting), a couple of big questions and 5 short ones. To add insult to the injury, yesterday&rsquo;s paper was my personal record for the most number of pages filled in an exam; 42/44. My previous record was 34 :D.</p>

<p>On the brighter side, I may get to read Peter Norvig&rsquo;s a second time for the back paper. Well, rationalization is the solution to all of world&rsquo;s problems ;).</p>

<p>But somehow, I didn&rsquo;t feel bad about it&hellip;..<em>shit</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/24/odeviced-device-daemon-for-the-freerunner/">Odeviced: Device Daemon for the FreeRunner</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-24T18:56:39+05:30" pubdate data-updated="true">Apr 24<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Man, its quite difficult to sneak up and write a blog post when semesters are around the corner. So as mentioned in the last post, my project for this summer would be to write a device daemon for the Openmoko platform. We already have neod offering keypad and power management, but its not that elegant. Hence I proposed a DBUS replacement as a SoC project which got through.</p>

<p>So, heres a <a href="http://sudharsh.unixpod.com/googsoc.pdf">pdf</a> of the proposed <em>ahem</em> architecture. (Boy, I love that word. Sounds enterprisey). it looks a bit sucky since I did it using a touchpad, but hey, something is better than nothing.</p>

<p>I was looking at pulseaudio code for a while and liked it pretty much. So naturally, odeviced will borrow ideas from pulseaudio a bit heavily. My idea of odeviced is as follows,</p>

<ul>
<li><p>A dbus service with support for loadable plugins.</p></li>
<li><p>These plugins can be arbitrary, from managing power, gps to controlling the uber secret laser katana in the FreeRunner (oops. I let the secret out)</p></li>
<li><p>And of course, some user space applications may want to know whats going on under the hood. So expose some sort of api from the dbus service.</p></li>
</ul>


<p>Initially for the SoC, I will be working for full odeviced support for the FreeRunner, and maybe later on write plugins for other devices as well. Especially for the ones from Motorola.</p>

<p>For the implementation, here are the things I need to learn over the next month</p>

<ul>
<li><p>Vala, its a cool language built around GLib.</p></li>
<li><p>DBUS, My experience with dbus is now limited to the tutorial code</p></li>
<li><p>Prolly some HAL and udev and touch upon the kernel stuff if need arises</p></li>
<li><p>&hellip;and <em>cough</em> to manage my time and write good code&hellip;</p></li>
</ul>


<p>Heres the <a href="http://code.google.com/soc/2008/openmoko/appinfo.html?csaid=C4E490026007DA79">abstract</a> of my proposal. Thanks to <a href="http://tuxmaniac.com">tuxmaniac</a>, <a href="http://prashblog.com">Casanova</a>, <a href="http://technofreakatchennai.wordpress.com">techno_freak</a>, <a href="http://www.raja-gopal.com/">tuxplorer</a>, <a href="http://pygi.wordpress.com/">pygi</a> and many more for proofreading my proposal which at the beginning looked like a love letter written by a 5 year old.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/22/summer-of-code-2008/">Summer of Code 2008</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-22T22:29:22+05:30" pubdate data-updated="true">Apr 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Atlast after sleepness nights, the results are out. I made it to this year&rsquo;s Google Summer of Code. I will be working for the Openmoko project under the mentorship of Mickeyl. Fun times ahead. Will post the details later.</p>

<p>Now where the hell are my books. Got fricking semesters this tuesday :(.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/07/the-fat-penguin-on-sony-vaio-cr/">The Fat Penguin on Sony Vaio CR</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-07T00:59:28+05:30" pubdate data-updated="true">Apr 7<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As I said in my earlier post, Vista didn&rsquo;t last long. I was planning to install Gentoo in my Vaio CR 36 but couldnt, as it had problems with the ethernet card ( not to mention the wireless). My option was to install Ubuntu Gutsy as it has very good support for laptops out of the box. But Gutsy couldn&rsquo;t get sound working and hence found a perfect excuse to upgrade to hardy beta.</p>

<p>24 after upgrading to hardy, came to know that beta_1 of gentoo 2008.0 is out. Downloaded the 64 bit mrinimal iso and got it up and running on my laptop. Things that doesn&rsquo;t work in both the distros (as of now. May change as I RTFM more)..</p>

<ul>
<li><p>Fn keys for the brightness controls. I have a brightness applet in my panel, so no real big deal.</p></li>
<li><p>The Ricoh webcam. lsusb picks up the device and whats more strange; the <a href="http://wiki.mediati.org/R5u870">r5u870</a> driver gets loaded and the device node &lsquo;/dev/video0&rsquo; is getting created properly. Neither cheese nor camorama could pick up the camera. The device id is &ldquo;05ca:1839&rdquo;, which seems to be well supported. Maybe I am missing something obvious (yes, the firmware files are in place)</p></li>
<li><p>The fingerprint reader. Its the same as that of the ones from the Thinkpads but thinkfinger doesn&rsquo;t support vaios :S</p></li>
<li><p>Bluetooth, gets detected by hciconfig but other devices can&rsquo;t see my laptop. (See below)</p></li>
</ul>


<p>If anyone had any luck with the above, please let me know.</p>

<p>What works..</p>

<ul>
<li><p>DRI with the binary &lsquo;fglrx&rsquo;</p></li>
<li><p>Sound works well</p></li>
<li><p>Wireless pwns with the iwl4965 module</p></li>
<li><p>Ethernet with the realtek modules</p></li>
<li><p><a href="http://www.gentoo-wiki.com/HOWTO_TuxOnIce">Software suspend to disk (and RAM)</a> using patches from the TuxOnIce project</p></li>
<li><p>Volume keys and media keys work like a charm.</p></li>
<li><p>Adobe doesn&rsquo;t offer support for flash on amd64. You can getaway with it by installing a 32 bit firefox binary alongside your 64 bit installation. &lsquo;emerge mozilla-firefox-bin netscape-flash&rsquo; and you are all set.</p></li>
<li><p>Bluetooth works beautifully. I have had issues with I/O errors with the chipset. But a post to the gentoo forums solved the issue. This VAIO comes with a Broadcom 2046 chipset. Be sure to &lsquo;emerge bluez-firmware&rsquo; just in case. Click <a href="http://forums.gentoo.org/viewtopic-t-687593.html">here</a> for the thread. Be sure to follow the wonderful <a href="http://www.gentoo.org/doc/en/bluetooth-guide.xml">gentoo bluetooth</a> guide. emerge gnome-phone-manager and gnome-bluetooth for extra fun</p></li>
</ul>


<p>The kernel .config and the xorg.conf with hardware acceleration for my laptop is <a href="http://sudharsh.unixpod.com/gentoofoo">here</a>, in case if anyone is interested.</p>

<p>Gentoo-wiki has been a great resource. Information about other vaios <a href="http://www.gentoo-wiki.com/Special:Search?search=sony+vaio&amp;go=Go">here</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/31/hiccup-organizing-templates-using-multimethods/">Hiccup: Organizing Templates Using Multimethods</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/27/cloudcraft-easy-minecraft-server-management/">Cloudcraft: Easy Minecraft Server Management</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/i/">I</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/25/brooks-was-here/">&#8220;Brooks Was Here&#8221;</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/10/01/chile-alla-vamos/">Chile, Alla Vamos!</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sudharsh">@sudharsh</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sudharsh',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Sudharshan S -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
