
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>42</title>
	<meta name="author" content="Sudharshan S">

	
	<meta name="description" content="Jul 12th, 2014 Life, Productivity Comments Pen and Paper I am one of those people with a very volatile memory. Unless I jot down things even if it &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="42" type="application/atom+xml">
	
	<link rel="canonical" href="http://sudharsh.me/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-45074307-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<img src="http://www.gravatar.com/avatar/16cc3864b1764a9e45a76ef4724ff7bb?s=160" alt="Profile Picture" style="width: 160px;" />
	
</div>
<div class="tagline">
  <h3>
  Code, and a tiny flippin bit of Adventure
  </h3>
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
			<a class="twitter" href="http://twitter.com/zphds" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/sudharsh" title="GitHub">GitHub</a>
		
		
		
		
			<a class="linkedin" href="http://www.linkedin.com/pub/sudharshan-s/8/449/958" title="LinkedIn">LinkedIn</a>
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-07-12T19:46:38+05:30" data-updated="true" itemprop="datePublished">Jul 12<span>th</span>, 2014</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>, <a class='category' href='/blog/categories/productivity/'>Productivity</a>


</div>
		
			<span class="comments"><a href="/blog/2014/07/12/pen-and-notebook/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/07/12/pen-and-notebook/" itemprop="url">Pen and Paper</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I am one of those people with a very volatile memory. Unless I jot down things even if it is as mundane as getting a haircut, I find myself with a nagging sense of incompleteness in my head. It is a very uncomfortable feeling to have.</p>

<p>I had been trying to use <a href="http://evernote.com/">Evernote</a>, <a href="https://www.wunderlist.com/en/">Wunderlist</a> and <a href="http://orgmode.org/"><code>org-mode</code></a> to help solve this. No god damn luck. Only <code>org-mode</code> worked for me in the beginning but I found myself slowly starting to worry about how to format my fricking lists instead.</p>

<p>My brain had started to <a href="http://www.urbandictionary.com/define.php?term=bikeshedding">bikeshed</a> with itself!</p>

<p>For me, these tools turned out to be hard to focus with. And lo! I fell back to using a Pen and a Notebook instead.</p>

<p><img class="centre" src="/images/notebook.jpg"></p>

<p>Writing down todo lists feels much more satisfying than typing them. The contents somehow &lsquo;sticks&rsquo; to my head and I don&rsquo;t need reminders on my phone anymore (which I mostly used to ignore anyways).</p>

<p>Of course, there are a lot of productivity problems solved successfully by software but I have come to a conclusion that simple personal todo lists is NOT one of them.</p>

<p>Pen and Paper beats the Computer in this case.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-07-12T19:32:56+05:30" data-updated="true" itemprop="datePublished">Jul 12<span>th</span>, 2014</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/biking/'>Biking</a>, <a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/2014/07/12/katoom/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/07/12/katoom/" itemprop="url">Katoom!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-12-07T22:58:00+05:30" data-updated="true" itemprop="datePublished">Dec 7<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/arduino/'>Arduino</a>, <a class='category' href='/blog/categories/programming/'>Programming</a>, <a class='category' href='/blog/categories/python/'>Python</a>


</div>
		
			<span class="comments"><a href="/blog/2013/12/07/jenkins-build-status-on-arduino/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/12/07/jenkins-build-status-on-arduino/" itemprop="url">Jenkins Build Status on Arduino</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I gifted myself an Arduino Starter Kit from <a href="http://www.simplelabs.co.in">Simplelabs</a> to kill some time during the weekends.
Needless to say, I felt really proud of myself once I got the <a href="http://arduino.cc/en/tutorial/blink">LED blink example</a> working without breaking anything.</p>

<p>My next project was a simple <a href="http://jenkins-ci.org/">Jenkins</a> build monitor, very popular amongst the Arduino beginners out there who write code.</p>

<p>Here is my version of this hack. In addition to the usual &lsquo;traffic light&rsquo;, I also plonked on a 16x2 LCD to the circuit which displays the build number along with the status. Scroll down to the end of this post to see this in action.</p>

<h2>Schema</h2>

<p><img src="/images/Jenkins.png" /></p>

<p>I used <a href="http://fritzing.org/">Fritzing</a> to draw this schema and I know it&rsquo;s a little bit ugly.</p>

<p>Anyway, successful builds turn on the Green LED; Unstable builds, yellow; Failed builds, red and my favorite of all, builds in progress makes the LEDs turn into <a href="http://en.wikipedia.org/wiki/KITT">KITT</a> from Knight Rider :P.</p>

<h2>Code</h2>

<p>The code is pretty simple. There is a Python script that uses the Jenkins REST API to get the latest build and its status for a given a job.
This is translated into a crude command for the Arduino board to pick up using the Serial interface.</p>

<h4>Python side of things</h4>

<figure class='code'><figcaption><span> (jenkins_status.py)</span> <a href='/downloads/code/jenkins_status.py'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
</pre></td><td class='code'><pre><code class='py'><span class='line'><span class="c"># Copyright 2013 Sudharshan S</span>
</span><span class='line'><span class="c"># This work is free. You can redistribute it and/or modify it under the</span>
</span><span class='line'><span class="c"># terms of the Do What The Fuck You Want To Public License, Version 2,</span>
</span><span class='line'><span class="c"># as published by Sam Hocevar. See http://www.wtfpl.net/ for more details.</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">time</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">glob</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">os</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">serial</span>
</span><span class='line'>
</span><span class='line'><span class="kn">from</span> <span class="nn">jenkinsapi.jenkins</span> <span class="kn">import</span> <span class="n">Jenkins</span>
</span><span class='line'>
</span><span class='line'><span class="n">led_states</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="s">&quot;BLINKING&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;ALWAYS&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;OFF&quot;</span><span class="p">:</span> <span class="mi">4</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">led_pins</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="s">&quot;RED&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;YELLOW&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
</span><span class='line'>    <span class="s">&quot;GREEN&quot;</span><span class="p">:</span> <span class="mi">8</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># LED behaviour for each Jenkins State</span>
</span><span class='line'><span class="n">jenkins_states</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="s">&quot;SUCCESS&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;GREEN&quot;</span><span class="p">:</span> <span class="s">&quot;ALWAYS&quot;</span><span class="p">},</span>
</span><span class='line'>    <span class="s">&quot;FAILURE&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;RED&quot;</span><span class="p">:</span> <span class="s">&quot;ALWAYS&quot;</span><span class="p">},</span>
</span><span class='line'>    <span class="s">&quot;UNSTABLE&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s">&quot;YELLOW&quot;</span><span class="p">:</span> <span class="s">&quot;ALWAYS&quot;</span><span class="p">},</span>
</span><span class='line'>    <span class="s">&quot;RUNNING&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s">&quot;GREEN&quot;</span> <span class="p">:</span> <span class="s">&quot;BLINKING&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s">&quot;RED&quot;</span>   <span class="p">:</span> <span class="s">&quot;BLINKING&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="s">&quot;YELLOW&quot;</span><span class="p">:</span> <span class="s">&quot;BLINKING&quot;</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="s">&quot;NOT_BUILT&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s">&quot;YELLOW&quot;</span><span class="p">:</span> <span class="s">&quot;BLINKING&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">ttymodem</span><span class="p">(</span><span class="n">baudrate</span><span class="o">=</span><span class="mi">9600</span><span class="p">):</span>
</span><span class='line'>    <span class="c"># Change this Glob if you are using Linux</span>
</span><span class='line'>    <span class="n">devices</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&quot;/dev/tty.usbmodem*&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">if</span> <span class="ow">not</span> <span class="n">devices</span><span class="p">:</span>
</span><span class='line'>        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s">&quot;Probably modem not connected&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">board</span> <span class="o">=</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="n">baudrate</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">job</span><span class="p">):</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;Connecting to the jenkins url: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span class='line'>    <span class="n">j</span> <span class="o">=</span> <span class="n">Jenkins</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">j</span><span class="p">[</span><span class="n">job</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">16</span><span class="p">):</span>
</span><span class='line'>    <span class="n">padded</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="n">padding</span><span class="p">)</span>
</span><span class='line'>    <span class="c"># The first character of every line that is sent to the board</span>
</span><span class='line'>    <span class="c"># is a &#39;command&#39; that will be read by the Arduino Sketch to do</span>
</span><span class='line'>    <span class="c"># something</span>
</span><span class='line'>    <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;{0}{1}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">padded</span><span class="p">)</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;Writing message --{0}--&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</span><span class='line'>    <span class="n">board</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">get_leds</span><span class="p">(</span><span class="n">build_state</span><span class="p">):</span>
</span><span class='line'>    <span class="sd">&quot;&quot;&quot;Given a build state, get the line messages to be sent to the board</span>
</span><span class='line'><span class="sd">    For now, just handle RUNNING, FAILURE and SUCCESS builds&quot;&quot;&quot;</span>
</span><span class='line'>    <span class="n">commands</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">build_state</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">jenkins_states</span><span class="p">:</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">commands</span>
</span><span class='line'>    <span class="n">led_behaviour</span> <span class="o">=</span> <span class="n">jenkins_states</span><span class="p">[</span><span class="n">build_state</span><span class="p">]</span>
</span><span class='line'>    <span class="k">for</span> <span class="n">led_color</span><span class="p">,</span> <span class="n">led_state</span> <span class="ow">in</span> <span class="n">led_behaviour</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span class='line'>        <span class="n">pin</span> <span class="o">=</span> <span class="n">led_pins</span><span class="p">[</span><span class="n">led_color</span><span class="p">]</span>
</span><span class='line'>        <span class="n">state</span> <span class="o">=</span> <span class="n">led_states</span><span class="p">[</span><span class="n">led_state</span><span class="p">]</span>
</span><span class='line'>        <span class="n">commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
</span><span class='line'>        <span class="n">commands</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">commands</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">loop</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">job</span><span class="p">,</span> <span class="n">poll_interval</span><span class="o">=</span><span class="mi">15</span><span class="p">):</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;Sleeping for a bit&quot;</span>
</span><span class='line'>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;Poll interval set to {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">poll_interval</span><span class="p">)</span>
</span><span class='line'>    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
</span><span class='line'>        <span class="n">build</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_last_build_or_none</span><span class="p">()</span>
</span><span class='line'>        <span class="k">if</span> <span class="ow">not</span> <span class="n">build</span><span class="p">:</span>
</span><span class='line'>            <span class="k">print</span> <span class="s">&quot;No build found&quot;</span>
</span><span class='line'>            <span class="k">continue</span>
</span><span class='line'>        <span class="n">build_status</span> <span class="o">=</span> <span class="n">build</span><span class="o">.</span><span class="n">get_status</span><span class="p">()</span>
</span><span class='line'>        <span class="k">if</span> <span class="ow">not</span> <span class="n">build_status</span><span class="p">:</span>
</span><span class='line'>            <span class="n">build_status</span> <span class="o">=</span> <span class="s">&quot;RUNNING&quot;</span> <span class="k">if</span> <span class="n">build</span><span class="o">.</span><span class="n">is_running</span> <span class="k">else</span> <span class="s">&quot;QUEUED&quot;</span>
</span><span class='line'>        <span class="n">status</span> <span class="o">=</span> <span class="s">&quot;{0} - {1}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">build_status</span><span class="p">,</span> <span class="n">build</span><span class="o">.</span><span class="n">get_number</span><span class="p">())</span>
</span><span class='line'>        <span class="k">print</span> <span class="s">&quot;Writing build status {0} to the board&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
</span><span class='line'>        <span class="n">write</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</span><span class='line'>        <span class="n">led_commands</span> <span class="o">=</span> <span class="n">get_leds</span><span class="p">(</span><span class="n">build_status</span><span class="p">)</span>
</span><span class='line'>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">led_commands</span><span class="p">:</span>
</span><span class='line'>            <span class="n">write</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">build_status</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;RUNNING&quot;</span><span class="p">,</span> <span class="s">&quot;NOT_BUILT&quot;</span><span class="p">]:</span>
</span><span class='line'>            <span class="c"># Continuosly bombard the board with the</span>
</span><span class='line'>            <span class="c"># blink commands. Looks Knight Riderish</span>
</span><span class='line'>            <span class="k">pass</span>
</span><span class='line'>        <span class="k">else</span><span class="p">:</span>
</span><span class='line'>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">poll_interval</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
</span><span class='line'>    <span class="c"># Run this like so</span>
</span><span class='line'>    <span class="c"># python jenkins_status.py &lt;jenkins_url&gt; &lt;job_name&gt;</span>
</span><span class='line'>    <span class="c"># eg: $ python jenkins_status.py https://builds.apache.org Kafra</span>
</span><span class='line'>    <span class="n">url</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'>    <span class="n">job_name</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span class='line'>    <span class="n">board</span> <span class="o">=</span> <span class="n">ttymodem</span><span class="p">()</span>
</span><span class='line'>    <span class="n">job</span> <span class="o">=</span> <span class="n">connect</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">job_name</span><span class="p">)</span>
</span><span class='line'>    <span class="n">write</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">job_name</span><span class="p">)</span>
</span><span class='line'>    <span class="n">write</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;Connecting...&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="n">loop</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">job</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h4>The &lsquo;Sketch&rsquo;</h4>

<figure class='code'><figcaption><span> (jenkins.ino)</span> <a href='/downloads/code/jenkins.ino'>download</a></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm">  Copyright 2013 Sudharshan S</span>
</span><span class='line'><span class="cm">  This work is free. You can redistribute it and/or modify it under the</span>
</span><span class='line'><span class="cm">  terms of the Do What The Fuck You Want To Public License, Version 2,</span>
</span><span class='line'><span class="cm">  as published by Sam Hocevar. See http://www.wtfpl.net/ for more details.</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="cp">#include &lt;LiquidCrystal.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;Serial.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">LiquidCrystal</span> <span class="n">lcd</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* The input data to the board */</span>
</span><span class='line'><span class="n">String</span> <span class="n">d_input</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">print_lcd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="n">led_pins</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span> <span class="p">};</span>
</span><span class='line'><span class="kt">int</span> <span class="n">led_state</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define LCD_BACKLIGHT_PIN 13</span>
</span><span class='line'><span class="cp">#define LED_COUNT 3</span>
</span><span class='line'><span class="cp">#define BAUD_RATE 9600</span>
</span><span class='line'>
</span><span class='line'><span class="k">enum</span> <span class="n">SerialCommands</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// LCD Cursor control</span>
</span><span class='line'>    <span class="n">LCD_SET_ROW_FIRST</span> <span class="o">=</span> <span class="mh">0x30</span><span class="p">,</span>
</span><span class='line'>    <span class="n">LCD_SET_ROW_SECOND</span> <span class="o">=</span> <span class="mh">0x31</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// LED States</span>
</span><span class='line'>    <span class="n">LED_SET_BLINKING</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
</span><span class='line'>    <span class="n">LED_SET_ALWAYS</span> <span class="o">=</span> <span class="mh">0x33</span><span class="p">,</span>
</span><span class='line'>    <span class="n">LED_SET_OFF</span> <span class="o">=</span> <span class="mh">0x34</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// LED PINs</span>
</span><span class='line'>    <span class="n">LED_RED</span> <span class="o">=</span> <span class="mh">0x36</span><span class="p">,</span>
</span><span class='line'>    <span class="n">LED_YELLOW</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span>
</span><span class='line'>    <span class="n">LED_GREEN</span> <span class="o">=</span> <span class="mh">0x38</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">setup</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// Init Serial</span>
</span><span class='line'>    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="n">BAUD_RATE</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// LCD Display initialization</span>
</span><span class='line'>    <span class="n">pinMode</span><span class="p">(</span><span class="n">LCD_BACKLIGHT_PIN</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</span><span class='line'>    <span class="n">digitalWrite</span><span class="p">(</span><span class="n">LCD_BACKLIGHT_PIN</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
</span><span class='line'>    <span class="n">lcd</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span><span class='line'>    <span class="n">lcd</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
</span><span class='line'>    <span class="n">lcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>    <span class="n">lcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Waiting...&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="n">lcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'>    <span class="n">lcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;for Input&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Activate all the LEDs</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">LED_COUNT</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">pinMode</span><span class="p">(</span><span class="n">led_pins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">OUTPUT</span><span class="p">);</span>
</span><span class='line'>        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">led_pins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">HIGH</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="n">command_mode</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">last_led</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">last_led_state</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Switch off all LEDs</span>
</span><span class='line'><span class="kt">void</span> <span class="n">clearLEDs</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">LED_COUNT</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">led_pins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">LOW</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">clearLCD</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">d_input</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="n">print_lcd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* Every input line to the board starts with a single character</span>
</span><span class='line'><span class="cm">   which acts as the command to be executed.</span>
</span><span class='line'><span class="cm">   In our case, these commands do one of the following</span>
</span><span class='line'><span class="cm">   - Set LCD cursor to corresponding row</span>
</span><span class='line'><span class="cm">   - Set the LED whose state has to be changed</span>
</span><span class='line'><span class="cm">   - Set the state of the LED</span>
</span><span class='line'><span class="cm">   Granted, we can have only 9 commands in this implementation ;)</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kt">void</span> <span class="n">execCommand</span><span class="p">(</span><span class="kt">int</span> <span class="n">command</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">switch</span><span class="p">(</span><span class="n">command</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LCD_SET_ROW_FIRST:</span>
</span><span class='line'>        <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Setting cursor to Row 0&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="n">lcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LCD_SET_ROW_SECOND:</span>
</span><span class='line'>        <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Setting cursor to Row 1&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="n">lcd</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LED_SET_BLINKING:</span>
</span><span class='line'>        <span class="c1">// Cue the Knight Rider theme music</span>
</span><span class='line'>        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">last_led</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
</span><span class='line'>        <span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span><span class='line'>        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">last_led</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
</span><span class='line'>        <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LED_SET_ALWAYS:</span>
</span><span class='line'>        <span class="n">clearLEDs</span><span class="p">();</span>
</span><span class='line'>        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">last_led</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LED_SET_OFF:</span>
</span><span class='line'>        <span class="n">clearLEDs</span><span class="p">();</span>
</span><span class='line'>        <span class="n">digitalWrite</span><span class="p">(</span><span class="n">last_led</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LED_RED:</span>
</span><span class='line'>        <span class="n">last_led</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LED_YELLOW:</span>
</span><span class='line'>        <span class="n">last_led</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nl">LED_GREEN:</span>
</span><span class='line'>        <span class="n">last_led</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">readSerial</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">Serial</span><span class="p">.</span><span class="n">available</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="kt">char</span> <span class="n">recvd</span> <span class="o">=</span> <span class="n">Serial</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
</span><span class='line'>        <span class="cm">/* The first character of each line to the board</span>
</span><span class='line'><span class="cm">           is the command to be executed</span>
</span><span class='line'><span class="cm">        */</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">command_mode</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">execCommand</span><span class="p">(</span><span class="n">recvd</span><span class="p">);</span>
</span><span class='line'>            <span class="n">command_mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>            <span class="k">return</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">switch</span><span class="p">(</span><span class="n">recvd</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">case</span> <span class="sc">&#39;\n&#39;</span><span class="o">:</span>
</span><span class='line'>            <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Board received: &quot;</span><span class="p">);</span>
</span><span class='line'>            <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">d_input</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">// Setting this flag flushes the data onto the LCD</span>
</span><span class='line'>            <span class="n">print_lcd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>            <span class="n">command_mode</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>            <span class="k">break</span><span class="p">;</span>
</span><span class='line'>        <span class="k">default</span><span class="o">:</span>
</span><span class='line'>            <span class="n">d_input</span> <span class="o">+=</span> <span class="n">recvd</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">loop</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">readSerial</span><span class="p">();</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">print_lcd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">lcd</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">d_input</span><span class="p">);</span>
</span><span class='line'>        <span class="n">clearLCD</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>In Action</h2>

<p>Here it is in action. As you can see, the LCD displays the Job, the last build number and its state.
The wiring is a huge mess, but hey, it works! :)</p>

<p><img src="/images/20131207_184155.jpg" /></p>

<h2>Components used</h2>

<ul>
<li>Arduino UNO R3</li>
<li>5 220-ohm resistors</li>
<li>3 LEDs; Green, Red and Yellow</li>
<li>A bunch of wires</li>
<li>HD44780 <a href="http://www.adafruit.com/products/181">16x2 LCD</a></li>
</ul>


<p>Next step, maybe build a bigger housing for the entire system.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-12-05T00:56:00+05:30" data-updated="true" itemprop="datePublished">Dec 5<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/clojure/'>Clojure</a>, <a class='category' href='/blog/categories/programming/'>Programming</a>


</div>
		
			<span class="comments"><a href="/blog/2013/12/05/getting-ip-of-an-interface-in-clojure/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/12/05/getting-ip-of-an-interface-in-clojure/" itemprop="url">Getting IP of an Interface in Clojure</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Here&rsquo;s a rather crude way in clojure to get the IP of the current host given a network interface</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">ip-for-interface</span> <span class="p">[</span><span class="nv">interface</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nb">first </span><span class="p">(</span><span class="nf">-&gt;&gt;</span> <span class="p">(</span><span class="nf">java.net.NetworkInterface/getByName</span> <span class="nv">interface</span><span class="p">)</span>
</span><span class='line'>              <span class="nv">.getInetAddresses</span>
</span><span class='line'>              <span class="nv">enumeration-seq</span>
</span><span class='line'>              <span class="p">(</span><span class="nb">filter </span><span class="o">#</span><span class="p">(</span><span class="nb">instance? </span><span class="nv">java.net.Inet4Address</span> <span class="nv">%1</span><span class="p">))</span>
</span><span class='line'>              <span class="p">(</span><span class="nb">map </span><span class="o">#</span><span class="p">(</span><span class="nf">.getHostAddress</span> <span class="nv">%1</span><span class="p">)))))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, fails horribly with an <code>NullPointerException</code> if the interface is not present :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-08-31T14:44:00+05:30" data-updated="true" itemprop="datePublished">Aug 31<span>st</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/clojure/'>Clojure</a>, <a class='category' href='/blog/categories/logs/'>Logs</a>, <a class='category' href='/blog/categories/python/'>Python</a>


</div>
		
			<span class="comments"><a href="/blog/2013/08/31/hiccup-organizing-templates-using-multimethods/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/08/31/hiccup-organizing-templates-using-multimethods/" itemprop="url">Hiccup: Organizing Templates Using Multimethods</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>There are two major templating libraries for Clojure,<a href="https://github.com/cgrand/enlive"> Enlive</a> and <a href="https://github.com/weavejester/hiccup">Hiccup</a>. Since I am not that much of a designer, I chose Hiccup for my side project written in Clojure. I liked the DSL&rsquo;s unification of code and templating; right in my comfort zone. This post is a little log on how I ended up using <a href="http://clojure.org/multimethods">multimethods</a> for organizing my Hiccup template functions.</p>

<h2>DRY in Jinja</h2>

<p>In my previous <a href="http://jinja.pocoo.org/docs/templates/">Flask</a> projects, <a href="http://jinja.pocoo.org/docs/templates/">Jinja</a> was my templating engine of choice. The <a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY</a> flow in Jinja templates consists of setting up a <code>base.html</code> with a common layout markup. The &lsquo;children&rsquo; would then <a href="http://jinja.pocoo.org/docs/templates/#template-inheritance">&lsquo;inherit&rsquo;</a> and optionally override those blocks in their own templates.</p>

<h2>Composition in Hiccup</h2>

<p>However, In the world of Clojure (and therefore Hiccup), functions (duh!) are used to modularize templates.  For example,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">ns </span><span class="nv">foobar.views</span>
</span><span class='line'>  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">hiccup.core</span> <span class="ss">:as</span> <span class="nv">h</span><span class="p">]</span>
</span><span class='line'>            <span class="p">[</span><span class="nv">hiccup.page</span> <span class="ss">:as</span> <span class="nv">hp</span><span class="p">]))</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">head</span> <span class="p">[</span><span class="nv">title</span><span class="p">]</span>
</span><span class='line'>  <span class="p">[</span><span class="ss">:head</span>
</span><span class='line'>   <span class="p">[</span><span class="ss">:title</span> <span class="nv">title</span><span class="p">]</span>
</span><span class='line'>   <span class="p">(</span><span class="nf">hp/include-css</span> <span class="s">&quot;/static/css/bootstrap.min.css&quot;</span>
</span><span class='line'>                   <span class="s">&quot;/static/css/bootstrap-theme.min.css&quot;</span><span class="p">)</span>
</span><span class='line'>   <span class="p">(</span><span class="nf">hp/include-js</span> <span class="s">&quot;/static/js/jquery-1.10.2.min.js&quot;</span>
</span><span class='line'>                  <span class="s">&quot;/static/js/bootstrap.min.js&quot;</span>
</span><span class='line'>                  <span class="s">&quot;/static/js/bluth.js&quot;</span><span class="p">)])</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">get-page</span> <span class="p">[</span><span class="nv">title</span> <span class="nv">context</span><span class="p">]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">hp/html5</span>
</span><span class='line'>    <span class="c1">;; Since hiccup DSL is just code, we will just inject the</span>
</span><span class='line'>    <span class="c1">;; &lt;head&gt; right here</span>
</span><span class='line'>    <span class="p">(</span><span class="nf">head</span> <span class="nv">title</span><span class="p">)</span>
</span><span class='line'>    <span class="c1">;; Rest of the template</span>
</span><span class='line'>    <span class="c1">;; I&#39;d probably have a (body..) somewhere</span>
</span><span class='line'>    <span class="p">(</span><span class="nf">body</span> <span class="nv">context</span><span class="p">)</span>
</span><span class='line'>    <span class="c1">;; Rest of the template</span>
</span><span class='line'><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Multi-methods</h2>

<p>In the above example, there is a chance of repetitiveness of functions like <code>get-page</code> as the number of routes increases. In most cases, there is one (or few) container <code>div</code> that changes across the templates. To avoid this, I have found using <a href="http://clojure.org/multimethods"><code>multimethods</code></a> to be a great way of dispatching templates at runtime.</p>

<p>For instance,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">defmulti </span><span class="nv">container</span> <span class="ss">:template</span> <span class="ss">:default</span> <span class="ss">:not-found</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defmethod </span><span class="nv">container</span> <span class="ss">:home</span> <span class="p">[</span><span class="nv">context</span><span class="p">]</span>
</span><span class='line'> <span class="p">[</span><span class="ss">:h2</span> <span class="s">&quot;Welcome to the Bluth Company&quot;</span><span class="p">]</span>
</span><span class='line'> <span class="p">[</span><span class="ss">:button#queue-button.btn.btn-info</span> <span class="s">&quot;Backup&quot;</span><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defmethod </span><span class="nv">container</span> <span class="ss">:users</span> <span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">query-params</span><span class="p">]}]</span>
</span><span class='line'> <span class="p">[</span><span class="ss">:h2</span> <span class="p">(</span><span class="nb">str </span><span class="nv">query-params</span><span class="p">)])</span>
</span><span class='line'>
</span><span class='line'><span class="p">(</span><span class="kd">defmethod </span><span class="nv">container</span> <span class="ss">:not-found</span> <span class="p">[</span><span class="nv">context</span><span class="p">]</span>
</span><span class='line'> <span class="p">[</span><span class="ss">:h2</span> <span class="s">&quot;Generic Content&quot;</span><span class="p">])</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now that I have a group of &lsquo;container&rsquo; divs, I can invoke them from <code>get-page</code> like so,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="kd">defn </span><span class="nv">get-page</span> <span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">title</span><span class="p">]</span>
</span><span class='line'>             <span class="ss">:or</span> <span class="p">{</span><span class="nv">title</span> <span class="s">&quot;Bluth Co. - Welcome&quot;</span><span class="p">}</span>
</span><span class='line'>             <span class="ss">:as</span> <span class="nv">context</span> <span class="p">}]</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">hp/html5</span>
</span><span class='line'>   <span class="p">(</span><span class="nf">head</span> <span class="nv">title</span><span class="p">)</span>
</span><span class='line'>   <span class="p">[</span><span class="ss">:body</span>
</span><span class='line'>    <span class="p">[</span><span class="ss">:div#wrap</span>
</span><span class='line'>     <span class="p">[</span><span class="ss">:div.container</span>
</span><span class='line'>      <span class="c1">;; Invoke container here</span>
</span><span class='line'>      <span class="c1">;; and dispatch the right template function</span>
</span><span class='line'>      <span class="p">(</span><span class="nf">container</span> <span class="nv">context</span><span class="p">)</span>
</span><span class='line'>      <span class="p">]]]))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Meanwhile, my <code>routes</code> will end up looking something like this,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="nf">defroutes</span> <span class="nv">app-routes</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">GET</span> <span class="s">&quot;/&quot;</span> <span class="p">[]</span> <span class="p">(</span><span class="nf">get-page</span> <span class="p">{</span> <span class="ss">:template</span> <span class="ss">:home</span> <span class="p">}))</span>
</span><span class='line'>  <span class="c1">;; Due to the destructuring in get-page,</span>
</span><span class='line'>  <span class="c1">;; I can pass in arbitrary context to be handled by</span>
</span><span class='line'>  <span class="c1">;; the container multimethods. In this case, we</span>
</span><span class='line'>  <span class="c1">;; are passing in the query-params</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">GET</span> <span class="s">&quot;/users&quot;</span> <span class="p">[</span><span class="o">&amp;</span> <span class="nv">query-params</span><span class="p">]</span> <span class="p">(</span><span class="nf">get-page</span>
</span><span class='line'>                                       <span class="p">{</span><span class="ss">:title</span> <span class="s">&quot;User list&quot;</span>
</span><span class='line'>                                        <span class="ss">:template</span> <span class="ss">:users</span>
</span><span class='line'>                                        <span class="ss">:query-params</span> <span class="nv">query-params</span><span class="p">}))</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">route/not-found</span> <span class="p">(</span><span class="nf">get-page</span>
</span><span class='line'>                    <span class="p">{</span><span class="ss">:title</span> <span class="s">&quot;Pluto - Not found!&quot;</span>
</span><span class='line'>                     <span class="ss">:template</span> <span class="ss">:not-found</span><span class="p">}))</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, <code>get-page</code> is the point of entry for my templates and the container <code>div</code> is injected according to the dispatched function. In fact, by abusing using <a href="https://github.com/weavejester/compojure/wiki/Destructuring-Syntax">compojure&rsquo;s</a> route destructuring, we can have true runtime dispatching of templates!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='clojure'><span class='line'><span class="p">(</span><span class="nf">defroutes</span> <span class="nv">app-routes</span>
</span><span class='line'>  <span class="p">(</span><span class="nf">GET</span> <span class="err">&quot;</span><span class="nv">/foo/</span><span class="ss">:template</span> <span class="p">[</span><span class="nv">template</span><span class="p">]</span>
</span><span class='line'>     <span class="c1">;; We don&#39;t know which container will be invoked until runtime</span>
</span><span class='line'>     <span class="c1">;; Instead of adding more routes, I can just add more multimethods</span>
</span><span class='line'>     <span class="p">(</span><span class="nf">get-page</span> <span class="p">{</span><span class="ss">:template</span> <span class="nv">template</span><span class="p">})))</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>get-page</code> function isn&rsquo;t going to change much and I can mix and match templates as much as I want.</p>

<p>I must admit that I am super new to Clojure. Therefore I am not sure if this approach is idiomatic enough in the Clojure world. Would love to hear suggestions on how it is usually done.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-05-26T19:32:00+05:30" data-updated="true" itemprop="datePublished">May 26<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/python/'>Python</a>


</div>
		
			<span class="comments"><a href="/blog/2013/05/26/cloudcraft-easy-minecraft-server-management/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/05/26/cloudcraft-easy-minecraft-server-management/" itemprop="url">Cloudcraft: Easy Minecraft Server Management</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><img class="center" src="http://sudharsh.files.wordpress.com/2013/05/2013-05-25_00-39-01.png"></p>

<p>I started working on <a href="https://github.com/sudharsh/cloudcraft">Cloudcraft</a> as a toy project over the weekend. It aims to be an end-to-end toolbelt for managing <a href="http://minecraft.net">minecraft</a> servers on EC2. As of now it&rsquo;s very Alpha quality but it can spawn instances and setup minecraft servers automatically with just a couple of commands. For example in the screenshot below, cloudcraft started the minecraft server on a spawned EC2 instance and reported the address needed for a multiplayer game.</p>

<p><img class="center" src="http://sudharsh.files.wordpress.com/2013/05/2-zsh-2013-05-27-00-23-17.jpg"></p>

<p>Autoscaling instances, plugin management, automatic updates are some of the things that are in the pipeline.</p>

<p>The project is on <a href="https://github.com/sudharsh/cloudcraft">github</a> and as usual, suggestions, bug reports, bug fixes are welcome.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-05-11T19:37:00+05:30" data-updated="true" itemprop="datePublished">May 11<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>, <a class='category' href='/blog/categories/rants/'>Rants</a>


</div>
		
			<span class="comments"><a href="/blog/2013/05/11/i/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/05/11/i/" itemprop="url">I</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>More than Death, losing my memory scares the shit out of me.
It makes me queasy to think that all the wonderful experiences I had, the secrets in my head, my tough times and failures can go poof; slowly or in an instant without warning.</p>

<p>Doesn&rsquo;t matter if its due to some fucked up illness like Alzheimer&rsquo;s or a freak accident from sheer bad luck. It is very possible that I won&rsquo;t be <em>me</em> one day.</p>

<p>The only bright side is that at least parts of my identity will live on as memories in people close to me if that happens. Coming to think of it, things won&rsquo;t be that bad after all :). As they say,</p>

<p><img class="center" src="http://sudharsh.files.wordpress.com/2013/05/8x10-keep-calm-carry-on-gray.jpg?w=240"></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-04-25T14:30:00+05:30" data-updated="true" itemprop="datePublished">Apr 25<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/2013/04/25/brooks-was-here/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/04/25/brooks-was-here/" itemprop="url">&#8220;Brooks Was Here&#8221;</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><strong>Minor spoilers ahead</strong></p>

<p>Like many others I love <a href="http://www.imdb.com/title/tt0111161/">Shawshank Redemption</a>. The scene where Brooks is out of prison and is unable to catch up with the world is just plain sad. One of my favorite all time movie scenes that gives me the chills every time.</p>

<p>I keep hoping Brooks found his Freedom.</p>

<iframe width="" height="" src="http://www.youtube.com/embed/kotNxb2YApk ?feature=player_detailpage" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>




		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2011-10-01T13:13:00+05:30" data-updated="true" itemprop="datePublished">Oct 1<span>st</span>, 2011</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/events/'>Events</a>, <a class='category' href='/blog/categories/life/'>Life</a>


</div>
		
			<span class="comments"><a href="/blog/2011/10/01/chile-alla-vamos/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2011/10/01/chile-alla-vamos/" itemprop="url">Chile, Alla Vamos!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>It all started as a little hack by <a href="http://twitter.com/#%21/cnu">Srini</a> and I at the <a href="http://developer.yahoo.com/hackday/">Yahoo! Openhack</a> Event conducted in Bangalore. The hack by itself wasn&rsquo;t that fancy when compared to the other finalists but we did feel good when our hack got shortlisted for the finals. We wrote a little web app which would index <a href="http://www.delicious.com/">delicious</a> bookmarks and enable Full Text Search on the Content with a neat tagging mechanism.</p>

<p>Meanwhile, applications were open for the second round of <a href="http://www.startupchile.org/about/faqs/">StartupChile</a> program. A seed of 40K equity-free USD and an exotic location, sounded rather interesting. We added some new ideas to the original delicious hack, drafted a nice crisp application and applied a few hours before the deadline.</p>

<p>Fast forward a month, We are delighted to announce that Cruns is one of the <a href="http://www.startupchile.org/154-startups-selected-in-start-up-chiles-2nd-round-of-2011/">154 startups</a> that made it through the 2nd round of the program.</p>

<p><a href="http://startupchile.org"><img class="center" src="http://sudharsh.files.wordpress.com/2011/10/sup-logo.png"></a></p>

<p>These are still early days, I am all excited, happy, anxious and scared, all the same time. Never have I budgeted for things months in advance. Ever since I passed out of college, I have been living in the relative comfort of working under a great team at Serendio where I began my baby steps as a programmer.</p>

<p>I have to admit, I am finding myself outside my comfort zone all of a sudden. Something which I hope I will adapt to sooner or later. One thing is for sure, Interesting times wait ahead :)</p>

<p>So there, Announcing Cruns; Something which we hope will help you to organize your information better.</p>

<p><a href="http://twitter.com/#!/CrunsLabs"><img class="center" src="http://sudharsh.files.wordpress.com/2011/10/screenshot-11.png?w=300"></a></p>

<p>Congratulations to the other 153 teams that made it through. Looking forward to meeting you all this January!</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2011-02-06T15:45:00+05:30" data-updated="true" itemprop="datePublished">Feb 6<span>th</span>, 2011</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/python/'>Python</a>, <a class='category' href='/blog/categories/tips/'>Tips</a>, <a class='category' href='/blog/categories/linux/'>linux</a>, <a class='category' href='/blog/categories/programming/'>programming</a>


</div>
		
			<span class="comments"><a href="/blog/2011/02/06/save-your-staplers/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2011/02/06/save-your-staplers/" itemprop="url">Save Your Staplers!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Picture this. You are at work on a Friday evening. You are all pumped up! Who wouldn&rsquo;t be. Two full days of zero work ahead! You shutdown your computer, rise up, turn around to leave and BAM! This happens,</p>

<p><img class="center" src="http://sudharsh.files.wordpress.com/2011/02/office-space.jpg"></p>

<p>The key to &lsquo;<a href="http://en.wikipedia.org/wiki/Bill_Lumbergh">Lumberg Evasion</a>&rsquo; is not only to stay &lsquo;hidden&rsquo; but also to be aware of your boss&#8217; whereabouts. Information is wealth and can potentially save your weekend.</p>

<p>I wanted to check out Pygame and hacked out a little python script which does this. The idea is that you position your webcam (el-cheapo-no-brand webcams sell for peanuts) near your cubicle/desk and get notified if there is some movement in a predefined area. Also works great if you have a laptop and want to know if someone is peeking over your shoulder (yeah, yeah&hellip; I know about mirrors).</p>

<p>The script can detect movements within the red rectangle. Here is how it does this</p>

<ul>
<li><p>When we start the script, the average color within the red rectangle is determined. This will act as the reference color.</p></li>
<li><p>Deviations in this average color is monitored in consecutive frames. If its more than a certain threshold, there is some movement.</p></li>
<li><p>When this happens, play a sound and pop up a little notification</p></li>
</ul>


<p><img class="center" src="http://sudharsh.files.wordpress.com/2011/02/screenshot-22.png"></p>

<p><img class="center" src="http://sudharsh.files.wordpress.com/2011/02/screenshot-21.png"></p>

<p><img class="center" src="http://sudharsh.files.wordpress.com/2011/02/screenshot-211.png"></p>

<p>Of course, it goes without saying that its just a simple hack. Works well if the background color is of an uniform color.</p>

<p>P.S: No, I don&rsquo;t work for an &lsquo;Initech&rsquo;.</p>

<p>P.P.S: If you are one of those &lsquo;Bill Lumberg&rsquo; types, Fuck you!</p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    Sudharshan S


- Design forked from <a href="http://github.com/shashankmehta/greyshade">Greyshade</a>
</footer>
		</div>
	</div>
	

<script type="text/javascript">
      var disqus_shortname = 'blogsudharsh';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
